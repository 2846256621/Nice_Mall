# Nice_mall商城   
## 概述    
&#160;&#160;本项目是小型的网上商城，面向商家和用户，实现了登录注册，个人中心，商品浏览和搜索，购物车以及下单，店铺注册及商家的商品管理、订单管理等功能,采用前后端分离的方式进行开发，后端部署在服务器上。   
## 演示地址:
[Nice_mall商城演示视频](https://www.bilibili.com/video/av88502084)  
## 功能
- 查看商品(可根据分类查看）及商品详细信息。
- 搜索功能，使用elasticsearch实现模糊查询。
- 加入购物车，查看购物车，删除购物车中某商品以及批量结算购物车
- 下单,下单后，若未支付成功，订单进入未支付状态30分钟
- 查看我的订单(所有订单、待付款、待发货等以及订单详情)。
- 个人中心(查看个人资料，添加收货地址,修改个人信息)
- 创建店铺(普通用户)
- 查看我的店铺（商家)
- 商家可添加商品及详细信息,添加热门分类
- 商家可以查看本店铺的所有相关订单，并进行处理
- 商家可对已经添加的商品进行修改或者下架处理
- 退出登录　
## 部分业务描述（不定时补,回忆ing)
- 登录
  - 前端每次请求在header需要携带"Authorization",然后后端检查是否是免认证url,如果是，则放行，否则获取token,获取不到,返回false,结束请求，如果能获取到则进行解密验证。
- 购物车   
  - 添加购物车，需要考虑添加商品如果之前添加过而且尺码，颜色也相同，那么只需要在原来基础上加１,如果有一个不同,则重新添加一条购物车记录，
  - 购物车属于频繁操作的对象，不能总是对数据库进行修改，这样会增加数据库的负担
- 订单
  - 表的设计，关于订单的表设计共有三张表,订单涉及到地址，商品详情，商家、用户、物流状态等。
  - 订单有待付款、待发货、待确认、待评价四种状态
  - 每一个待付款订单有30分钟的有效时间,后端添加的动态定时任务，不断的执行检查，超时的话，删除订单，释放库存。
## 技术
使用SpringBoot+Mybatis框架并采用前后端分离的方式进行开发，使用Shiro+JWT做安全登录，对于操作比较频繁，逻辑比较复杂的购物车和订单使用Redis进行存储，利用ElasticSearch实现商品搜索，对于未支付订单利用Quartz实现动态定时任务来进行处理,使用SpringAop实现简单日志打印。  
## 收获
- 学会了分析复杂业务，并根据需求设计数据库的表
- 对技术中描述的技术点有了进一步的认识
- 提升了合作中的沟通能力